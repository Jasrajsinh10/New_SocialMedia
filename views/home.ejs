<%- include('includes/header.ejs') %>

  <h1 style="margin-left: 45px;">Welcome home <%= user.username %></h1>
  <%postall.forEach(post => {%>
    <div class="card" id="maincss" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title">Post created By <%=post.username%></h5><br><br>
        <h6 class="card-subtitle mb-2 text-body-secondary">Created At : <%=post.createdAt%></h6><br><br>
        <p class="card-text">Post Content :<br> <%=post.content%></p>
        <form action="/like/<%=post.id%>?uid=<%=user.id%>" method="post"><button type="submit">LIKE <%=post.likes.length%></button></form>
         <form action="/comment/<%=post.id%>" method="get"><button type="submit">Comments</button></form>
      </div>
    </div>
    <%})%>
   <!-- Pagination -->
  <div class="pagination">
    <% for(let i = 1; i <= totalPages; i++) { %>
      <% if (i === currentPage) { %>
        <span class="active"><%= i %></span>
      <% } else { %>
        <a href="/home?id=<%=user.id%>&page=<%= i %>"><%= i %></a>
      <% } %>
    <% } %>
  </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>

</html>